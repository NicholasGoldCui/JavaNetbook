## 4.5 逻辑运算符与逻辑表达式
### 4.5.1 逻辑运算符
| 符号 | 功能 | 示例 | 含义 |
| --- | --- | --- | --- |
| && | 逻辑与 | A&&B | A、B两个只要有一个为假，都为假。其余情况都为真 |
| //通道符本来是竖线符的 | 逻辑或 | A||B | A、B两个只要有一个为真，都为真。其余情况都为假 |
| ! | 逻辑非 | !A | A表达式为真，结果为假，A表达式为假，结果为真 |
### 4.5.2 逻辑表达式
使用逻辑运算符，可以将多个关系表达式的结果合并在一起进行判断。其一般形式如下：

表达式 逻辑运算符 表达式

### 4.5.3 优先级与结合性
“&&”和“||”是双目运算符，要求有两个操作数，结合方向自作至右；“！”是单目运算符，要求有一个操作数，结合方向自右向左。逻辑运算符的优先级从高到低依次为“！”“&&”和“||”。
## 4.6 逗号运算符与逗号表达式
C语言中，可用逗号运算符将多个表达式分隔开来。逗号表达式的一般形式如下：

表达式1,表达式2,表达式3,表达式4,……,表达式n

逗号表达式又称为顺序求值运算符，其求解过程是：先求解表达式1，再求解表达式2，一直求解到表达式n。整个逗号表达式的值是表达式n的值。
但观察下面的逗号表达式：
```C
Value = 2+5,1+2,5+7;
```
上述语句中，Value的值为7，而非12。这个问题在于优先级。**赋值运算符的优先级比逗号运算符高**，因此先执行赋值运算。如果要先执行逗号运算，在可以使用括号运算符，代码如下：
```C
Value = (2+5, 1+2, 5+7);
```
使用括号之后，Value的值为12。

## 4.7 复合赋值运算符
复合赋值运算符是C语言所独有的，实际这种操作是一种缩写形式，可使变量操作的描述方式更简洁。例如，为变量Value赋值，值为Value自身与3相加的结果，代码如下：
```C
Value = Value + 3;
```
使用复合赋值运算符，可以实现同样的操作，但描述更为简洁。代码如下：
```C
Value+=3;
```
可见，使用复合赋值运算符不但可以简化程序，使代码更为精炼，而且可以提高编译效率。
## 4.8 运算符的优先级总结
| 优先级 | 运算符 | 含义 | 结合性 |
| --- | --- | --- | --- |
| 1 | () | 圆括号 | 自左向右 |
| 1 | [] | 下标运算符 |
| 1 | -> | 指向结构体成员运算符 |
| 1 | . | 结构体成员运算符 |
| 2 | ! | 逻辑非运算符(单目运算符) | 自右向左 |
| 2 | ~ | 按位取反运算符(单目运算符) |
| 2 | ++ | 自增运算符(单目运算符) |
| 2 | -- | 自减运算符(单目运算符) |
| 2 | - | 负号运算符(单目运算符) |
| 2 | * | 指针运算符(单目运算符) |
| 2 | & | 地址与运算符(单目运算符) |
| 2 | sizeof | 长度运算符(单目运算符) |
| 3 | `*`、/、% | 乘法、除法、求余运算符 | 自左向右 |
| 4 | +、- | 加法、减法运算符 |
| 5 | <<、>> | 左移、右移运算符 |
| 6 | <、<=、>、>= | 小于、小于或等于、大于、大于或等于运算符 |
| 7 | ==、!= | 等于、不等于运算符 |
| 8 | & | 按位与运算符 |
| 9 | ^ | 按位异运算符 |
| 10 | | | 按位或运算符 |
| 11 | && | 逻辑与运算符 |
| 12 | || | 逻辑或运算符 |
| 13 | ?: | 条件运算符(三目运算符) | 自右向左 |
| 14 | =、+=、-=、`*`=、/=、%=、>>=、<<=、&=、^=、|= | 赋值运算符
| 15 | , | 逗号运算符(顺序求值运算符) | 自左向右 |

# 第5章 常用的数据输入/输出函数
C语言中，语句是用来向计算机系统发出操作指令的。当需要程序按照用户输入信息执行指令时，先要使用输入语句给程序发送指示。
一条语句经过编译后，会产生若干条机器指令。实际程序中通常包含若干条语句，用于完成一定的操作任务。
**注意**
在编写程序时，声明部分不能算作语句。例如，“int iNumber;”就不是一条语句，因为不产生机器的操作，只是对变量提前进行了定义。
通过前面的介绍可知，程序包括声明部分和执行部分，其中执行部分由语句组成。
## 5.2 字符数据的输入/输出
### 5.2.1 字符输出函数
输入出字符数据使用的时putchar函数，作用是向显示设备输出一个字符。其语法格式如下：
```C
int putchar(int ch);
```
使用该函数时，要**添加文件stdio.h**。其中，参数ch为要输出的字符，可以是字符型变量或整型变量，也可以是常量。例如，输入出字符A的代码如下：
```C
putchar('A');
```
使用putchar函数也可以输出转义字符。例如，使用转义字符输出字符A：
```C
putchar('\101');
```
**注意**
1. 要使用putchar函数，首先要包含文件stdio.h。
2. putchar函数一次只能输出一个字符。要输出字符画，就需要多次调用putchar函数。
3. 字符画输出完毕后，使用putchar函数输出转义字符“\n”，进行换行操作。
### 5.2.2 字符输入函数
字符数据输入使用的是getchar函数，其作用是从终端(输入设备)输入一个字符。getchar与putchar函数的区别在于getchr函数没有参数。
使用getchar函数时，需要先添加头文件stdio.h。getchar函数的语法格式如下：
```C
int getchar();
```
函数的值就是从输入设备得到的字符。例如，从键盘输入一个字符并赋给变量cChar，代码如下：
```C
cChar=getchar();
```
**注意**
getchar函数只能接收一个字符，该字符可以赋给一个字符变量或整型变量，也可以不赋给任何变量，只作为表达式的一部分，如“putchar(getchar());。这里，getchar函数作为putchar函数的参数通过getchar寒素从输入设备得到一个字符，然后通过putchar函数将字符输出。
**注意**
getchar函数也可以不返回值，而是直接放在printf函数中使用。例如，
```C
printf("%c\n",getchar());
```
## 5.3 字符串输入/输出
putchar和getchar函数都只能对单个字符进行操作，如果要操作字符串，则会很麻烦。C语言提供了两个专门对字符串进行操作的函数，分别为gets和puts函数。
### 5.3.1 字符串输出函数
字符串输出使用的是puts函数，作用是输出一个字符串到屏幕上。其语法格式如下：
```C
int puts(char*str);
```
使用puts函数时，先要在程序中添加stdio.h头文件。其中，形式参数str是一个字符指针变量，用来接收要输出的字符串。例如，使用puts函数输出一个字符串：
```C
puts("I LOVE CHINA!");    /*输出一个字符串常量*/
```
上述语句首先会输出一个字符串，之后会自动进行换行操作。这与printf函数有所不同，在前几章的实例中，使用printf函数进行换行时，要在其中添加转义字符“\n”。
puts函数会在字符串中判断“\0” **结束符**，遇到结束符时，后面的字符**不再输出**，并且自动换行。例如：
```C
puts("I LOVE\0 CHINA!");
```
在上面的语句中，加上“\0”字符后，puts函数输出字符串就变成了“I LOVE”。
**说明**
前面介绍到，编译器会在字符串常量末尾自动添加“\0”结束符，因此puts函数会在输出字符串常量后自动进行换行操作。
**注意**
1. 第一次使用puts函数输出的字符串常量中，由于在该字符串中没有结束符“\0”，所以会完整输出整个字符串，直到最后编译器为其添加结束符“\0”为止。
2. 第二次使用puts函数输出的字符串常量中，人为添加两个“\0”，因此只能输出第一个结束符之前得到字符，然后进行换行操作。
3. 改变变量的值，在使用puts函数输出变量时，由于变量的值中包含一个结束符“\0”，因此将输出第一个结束符之前的所有字符，然后进行换行操作。
### 5.3.2 字符串输入函数
字符串输入使用的是gets函数，作用是将读取的字符串(即用户输入的字符串)保存在str变量中，直到出现新的一行为止。其新行的换行符将会转换为空终止符“\0”。
使用gets函数前，要添加头文件stdio.h。gets函数的语法格式如下：
```C
char *gets(char *str);
```

## 5.4 格式输出函数
printf函数是格式输出函数。
printf函数的作用是向终端(输出设备)输出若干任意类型的数据，其语法格式如下：
```C
printf(格式控制输出列表);
```
1. 格式控制
格式控制是用双引号括起来的字符串，也称为转换字符串。其中包括格式字符和普通字符。
+ 格式字符：用来进行格式说明的字符，作用是将输出的数据转换为指定的格式。格式字符通常以“%”开头。
+ 普通字符：需要原样输出的字符，包括双引号内的逗号、空格和换行符。
2. 输出列表
输出列表列出的是要进行输出的一些数据，可以是变量或表达式。
例如，要输出一个整型变量，代码如下：
```C
int iInt=10;
printf("this is %d", iInt);
```
其中的“this is”字符串是普通字符，而“%d”是格式字符，表示输出的是后面的iInt数据。
printf是函数，“格式控制”和“输出列表”都是函数参数，因此printf函数的一般形式可表示为：
```C
printf(参数1,参数2,……,参数n);
```
函数中的每个参数都必须按照给定的格式和顺序依次输出。例如，输出一个字符型变量和整型变量的代码如下：
```C
printf("this int is %d,the Char is %c", iInt,cChar);
```
printf函数的格式字符
| 格式字符 | 功能说明 |
| --- | --- |
| %d, %i | 用来输出**有符号**的**十进制整数** |
| %u | 用来输出无符号的十进制整数 |
| %o | 用来输出无符号的八进制整数 |
| %x, %X | 用来输出无符号的十六进制整数。%x表示以小写形式输出；%X表示以大写形式输出 |
| %c | 用来输出**单个字符** |
| %s | 用来输出**字符串** |
| %f | 用来输出实数，以小写形式输出 |
| %e, %E | 用来输出实数，以指数形式输出 |
| %g, %G | 以%f或%e中宽度较短的格式输出，不输出无意义的0 |
**注意**
printf函数中，除X、E、G外，其他格式字符必须使用小写字母，如%d不能写成%D。
另外，在格式说明中，在“%”符号和上述格式字符间可以插入集中附加符号。
printf函数的附加格式说明字符
| 附加字符 | 功能说明 |
| --- | --- |
| l | 用于输出长整型整数，可加在d、o、x、u的字母前面 |
| m | 用于指定输出数据的字段宽度，数字或字符在域内向右对齐 |
| n | 对实数，表示输出n位小数；对字符串，表示截取的字符个数 |
| - | 用于指定输出的数字或字符在域内向左对齐 |
如果向输出“%”符号，可在格式控制处使用“%%”进行输出。
“%-10.2s”格式为“-m.ns”，其中m、n含义同上，n个字符输出在m列的左侧，右补空。如果n>m，则m自动取n值，即保证n个字符正常输出

## 5.5 格式输入函数
与格式输出函数printf相对应的是格式输入函数scanf。该函数的功能是按照指定的格式接收用户在键盘上输入的数据，最后将数据存储在指定的变量中。
scanf函数的一般格式如下：
```C
scanf(格式控制，地址列表);
```
其中，“格式控制”参数与printf函数相同，“%d”表示十进制整型，“%c”表示单个字符；“地址列表”参数用于接收数据变量的地址。
**注意**
scanf函数参数的“地址列表”处要使用变量地址，而不是变量的标识符，否则会编译报错。

例如，得到一个整型数据的代码如下：
```C
scanf("%d", &iInt);
```
在上面的代码中，“&”是取地址符号，表示取iInt变量的地址。用户不用关心变量的地址具体是多少，只要在变量的标识符前加“&”，就可以表示取变量的地址。
**注意**
scanf函数中，当输入的数据是基本类型，如整型、字符型、实型时，需要使用取地址符号。当输入的变量本身就是一个地址时，如数组名、字符串指针等，不需要再使用“&”符号。
scanf函数的格式字符
| 格式字符 | 功能说明 |
| --- | --- |
| %d, %i | 用来输入**有符号**的十进制整数 |
| %u | 用来输入**无符号**十进制整数 |
| %o | 用来输入无符号的八进制整数 |
| %x, %X | 用来输入无符号的十六进制整数(大小写作用相同) |
| %c | 用啦输入**单个字符** |
| %s | 用来输入字符串 |
| %f | 用来输入实数，以小数形式输入 |
| %e, %E | 用来输入实数，以指数形式输入 |
| %g, %G | 用来输入实数， 以%f和%e作用相同 |
**注意**
格式字符“%s”用来输入字符串。将字符串送到一个字符数组中，在输入时以非空白字符开始，以第一个空白字符结束。字符串以串结束标志“\0”作为最后一个字符。
**注意**
+ scanf函数只能接收输入的数据，不能显示信息，所以先使用printf函数输出一段信息提示。
+ 调用scanf格式输入函数，在函数参数中使用双引号将格式字符括起来，“%f”表示输入的时十进制的小数。在参数中的地址列表位置使用“&”符号表示变量的地址。
+ scanf函数使用的时变量的标识符，而不是变量地址

































