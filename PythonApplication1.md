# 第2章 Python语言基础
## 2.1 Python语法特点
**2.1.1注释规则**
> **单行注释**
在Python中，使用#作为单行注释的符号。从符号#开始直到换行为止，其后面所有的内容都作为注释的内容而被Python编译器忽略。
```python
print('Hello,World')  # 你好
```
> **多行注释**

一对三引号(即"""……"""或'''……''')
```python
'''
    注释内容
'''
# 或
"""
    注释内容
"""
```
> **命名规范**

+ 模块名尽量短小，并且使用全部小写字母，可以使用下划线分隔多个字母。例如，game_main都是推荐使用的模块名称。
+ 包名尽量短小，并且使用全部小写字母，不推荐使用下划线。com.mingrisoft、com.mr都是被推荐使用的包名称，
+ 类名采用单词首字母大写形式(即Pascal风格)。例如，定义一个借书类，可以命名为BorrowBook
> ***说明***
Pascal是以纪念法国数学家Blaise Pascal而命名的一种编程语言，Python中的Pascal命名法就是根据该语言的特点总结出来的一种命名方法。
+ 模块内部的类采用下划线 "_ “ +Pascal风格的类名组成。例如，在borrowBook类中的内部类，可以使用_BorrowBook命名。
+ 函数、类的属性和方法的命名规则同模块类似，也是全部采用小写字母，多个字母间用下划线"_ "分隔。
+ 常量命名时采用全部大写字母，可以使用下划线。
+ 使用双下划线"__ "开头在实例变量或方法是类私有的。

## 2.2 Python中的变量
### 2.2.1 保留字与标识符
1.***保留字*** 
是Python中已经被赋予特定意义的一些单词，开发程序时，不可以把这些保留字作为变量、函数、类、模块和其他对象的名称来使用。Python中的保留字如表：

|Python中的保留字| 1 | 2 | 3 | 4 | 5 |
| --- | --- | --- | --- | --- | --- |
| and |as  |assert  |break  |class  |continue  |
|def  |del  |elif  |else  |except  |finally  |
|for  | from | False | global |if  |import  |
| in | is |lambda  |nonlocal  |not  |None  |
| or | pass | raise | return | try | True |
| while | with | yield |    |

> **注意**：Python中所有保留字是区分字母大小写的。
> python中的保留字可以通过IDEL中输入以下两行代码予以查看：
```Python
import keyword
keyword.kwlist
```
2.***标识符***
可以简单地理解为一个名字，比如每个人都有自己的名字，它主要用来标识变量、函数、类、模块和其他对象的名称。
Python语言标识符命名规则如下：
1. 由字母、下划线"_ "和数字组成，并且第一个字符不能是数字。当前Python中只允许使用ISO~Latin字符集中的字符A~Z和a~z。
2. 不能使用Python中的保留字。
3. 区分字母大小写。在python中，标识符中的字母是严格区分大小写的，两个同样的单词，如果大小写格式不一样，那么代表的意义是完全不同的。
4. Python中以下划线开头的标识符有特殊意义，一般应避免使用相似的标识符。
+ 以单下划线开头的标识符(如_width)表示不能直接访问的类属性。另外，也不能通过from xxx import * 导入。
+ 以双下划线开头的标识符(如__add)表示类的私有成员。
+ 以双下划线开头和结尾的是Python中专用的标识。例如，__init__()表示构造函数。
> **说明**
在Python中允许使用汉字作为标识符，如“我的名字="明日科技"”，在程序运行时并不会出现错误，但建议读者尽量不要使用汉字作为标识符。

### 2.2.2 理解Python中的变量
在Python中，当把一个值赋给一个名字(如把值“学会Python还可以飞”赋给Python)时，Python就被成为变量。
具体见书（page26）
### 2.2.3 定义变量
在Python中，不需要先声明变量名及其类型，直接赋值即可创建各种类型的变量。需要注意的是，对于变量的命名并不是任意的，应遵循以下几条规则。
+ 变量名必须是一个有效的标识符。
+ 变量名不能使用Python中的保留字。
+ 慎用大写字母I和大写字母O。
+ 应选择有意义的单词作为变量名。
为变量赋值可以通过等号“=”来实现。
## 2.3 基本数据类型
### 2.3.1 数字
在Python中，数字类型主要包括整数、浮点数和复数。
1. 整数
整数用来表示整数数值，即没有小数部分的数值。
整数类型包括十进制整数、八进制整数、十六进制整数和二进制整数。
（1）十进制整数。
```python
794592
0
-204543
```
（2）八进制整数。由0~7组成，进位规则是“逢八进一”，并且**以0o/0O开头**的数，如0o123(转成十进制数为83)。
（3）十六进制整数。由0~9、A~F组成，进位规则是“逢十六进一”，并且以0x/0X开头的数，如0x25（转换成十进制数为37)。
（4）二进制整数。只有0和1两个基数，进位规则是“逢二进一”，如101（转换为十进制数为5）.
2. 浮点数
浮点数由整数部分和小数部分组成，主要用于处理包括小数的数，如 1.414、0.5、-1.732等。浮点数也可以使用科学记数法表示，如2.7e2、-3.14e5和6.16e-2等。
> **注意**
在使用浮点数进行计算时，可能会出现小数位数不确定的情况。例如，计算0.1+0.1时，将得到想要的0.2，而计算0.1+0.2时，将得到0.3000000000004（想要的结果为0.3），对于这种情况，所有语言都存在这个问题，暂时忽略多余的小数位数即可。
3. 复数
Python中的复数与数学中的复数的形式完全一致，都由实部和虚部组成，并且使用j或J表示虚部。当表示一个复数时，可以将其实部和虚部相加。例如，一个复数实部为3.14，虚部为12.5j，那么这个复数为3.14+12.5j。

### 2.3.2 字符串
就是连续的字符序列，可以是计算机所能表示的一切字符的集合。在Python中，字符串属于不可变序列，通常使用单引号('')、双引号("")或者三引号(""""""或'''''')括起来。这三种引号形式在语义上没有差别，只是在形式上有些差别。其中，单引号和双引号中的字符序列必须在一行上；而三引号中的字符序列可以分布在连续的多行上。例如，定义3个字符串类型变量，并且应用print()函数输出。
```Python
title = '我喜欢的名言警句'      # 使用单引号，其中的字符序列必须在一行上。
mot_cn = "命运给予我们的不是失望之酒，而是机会之杯"     # 使用双引号，其中的字符序列必须在一行上。
# 使用三引号，其中的字符序列可以分布在多行上
mot_en = '''Our destiny offers not the cup of despair,
but the chance of opportunity.'''
print(title)
print(mot_cn)
print(mot_en)
```
Python中的字符串还支持转义字符。所谓转义字符，是指使用反斜杠“\”对一些特殊字符进行转义。
| 转义字符 | 说明 | 转义字符 | 说明 |
| --- | --- | --- | --- |
| \ | 续行符 | \' | 单引号
| \n | 换行符 | \\ | 一个反斜杠 |
| \0 | 空 | \f | 换页 |
| \t | 水平制表符，用于横向跳到下一制表位 | \0dd | 八进制数，dd代表字符，如\012代表换行 |
| \" | 双引号 | \xhh | 十六进制数，hh代表字符，如\x0a代表换行 |
> **注意**
在字符串定界符引号的前面加上字母r（或R），那么该字符串将原样输出，其中的转义字符将不进行转义输出。例如，输出字符串“r"失望之酒\x0a机会之杯"”将转义字符换行输出；而输出字符串“r"失望之酒\x0a机会之杯"”，则原样输出。

### 2.3.3 布尔类型
布尔类型主要用来表示真或假的值。在Python中，标识符True和False被解释为布尔值。另外，Python中的布尔值可以转换为数值，其中True表示1，而False则表示0。

> **说明**
在Python中，可以对布尔类型的值进行数值运算，例如，“False+1”的结果为1。但是不建议对布尔类型的值进行数值运算。

在Python中，对所有的对象都可以进行真值测试。其中，只有下面列出的4种情况得到的值为假，其他对象在if或者while语句中都表现为真。
+ False或None。
+ 数值中的零，包括0、0.0、虚数0。
+ 空序列，包括字符串、空元组、空列表、空字典。
+ 自定义对象的实例，该对象的__bool__方法返回False，或者__len__方法返回0。

### 2.3.4 数据类型转换
Python是动态类型的语言（也称为弱类型语言），不需要想Java或者C语言一样在使用变量前必须先声明变量的类型。但有时任然需要用到类型转换。
在Python中，提供了函数进行个数据类型间的转换。
| 函数 | 作用 |
| --- | --- |
| int(x) | 将x转换称整数类型 |
| float(x) | 将x转换称浮点数类型 |
| complex(real [,imag]) | 创建一个复数 |
| str(x) | 将x转换为字符串 |
| repr(x) | 将x转换为表达式字符串 |
| eval(str) | 计算在字符串中的有效Python表达式，并返回一个对象 |
| chr(x) | 将整数x转换为一个字符 |
| ord(x) | 将一个字符x转换为它对应的整数值 |
| hex(x) | 将一个整数x转换为一个十六进制的字符串 |
| oct(x) | 将一个整数x转换为一个八进制的字符串 |
| bin(x) | 将一个整数x转换为一个二进制字符串 |
## 2.4 基本输入和输出
从第1章的Hello World 程序开始，我们一直在使用print()函数向屏幕上输出一些字符，这就是Python的基本输出函数。除了print()函数，Python还提供了一个进行标准输入的函数，即input()。input()函数用于接受用户通过键盘输入的内容。
### 2.4.1 使用input()函数输入
在Python中，使用内置的函数input()可以接受用户通过键盘输入的内容。input()函数的基本用法如下：
```Python
variable = input("提示文字")
```
在Python3.x中，**无论输入的是数字还是字符都将被作为字符串读取。**
如果想要接收数值，需要把接收到的字符串进行类型转换。例如：
```Python
age = int(input("请输入数字:"))
```
### 2.4.2 使用print()函数输出
在Python中，默认情况下，使用内置的函数print()可以将结果输出到IDEL中或者标准控制台上。
**说明**
在Python中，默认情况下，一条print()语句输出后会自动换行，如果想要一次输出多个内容，而且不换行，可以将要输出的内容使用英文的逗号分隔。例如，以下代码将在一行中输出变量a和b的值。
```Python
a = 10
b = 6
print(a,b)  # 输出变量a和b，结果为 10 6
```
在输出时，也可以把结果输出到指定文件中。例如，将一个字符串“命运给予我们的不是失望之酒，而是机会之杯。”输出到D:\mot.txt中，代码如下：
```python
fp = open(r'D:\mot.txt','a+')   # 打开文件
print("命运给予我们的不是失望之酒，而是机会之杯。",file = fp)    # 输出到文件
fp.close()  # 关闭文件
```
**说明**
在上述代码中应用了打开和关闭文件等文件操作的内容。
# 第3章 运算符与表达式
## 3.1 运算符
### 3.1.1 算术运算符
算数运算符是处理四则运算的符号，它们在数字的处理中被应用得最多。常见的算术操作符如：
| 运算符 | 说明 | 实例 | 结果 |
| --- | --- | --- | --- |
| + | 加 | 12.45+15 | 27.45 |
| - | 减 | 4.56-0.26 | 4.3 |
| * | 乘 | 5* 3.6 | 18.0 |
| / | 除 |  7/2 | 3.5 |
| % | 求余，即返回除法的余数 | 7%2 | 1 |
| // | 取整除，即返回商的整数部分 | 7//2 | 3 |
| ** | 幂，即返回x的y次方 | 2** 4 | 16，即2的次方 |
**注**使用除法（/或//）运算符和求余运算符时，除数不能为0；否则，程序将会出现异常。
**说明**
在算术操作符中使用%求余，如果除数（第二个操作数）是负数，那么取得的结果也是一个负值。
### 3.1.2 赋值运算符
赋值运算符主要用来为变量等赋值。当使用时，可以直接把基本赋值运算符“=”右边的值赋给左边的变量，也可以进行某些运算后再赋值给左边的变量。再Python中常用的赋值运算符如表：
| 运算符 | 说明 | 举例 | 展开形式 |
| --- | --- | --- | --- |
| = | 简单的赋值运算 | x=y | x=y | 
| += | 加法赋值 | x+=y | x=x+y |
| -= | 减法赋值 | x-=y | x=x-y |
| * = | 乘法赋值 | x*= y | x = x * y |
| /= | 除法赋值 | x/=y | x = x/y |
| %= | 取模赋值 | x%=y | x=x%y |
| ** = | 幂运算 | x**= y | x=x** y |
| //= | 取整除赋值 | x//=y | x=x//y |
**误区警示**
混淆“=”和“==”是编程中最常见的错误之一。很多语言(而不只是Python)都使用了这两个符号，另外每天都有很多程序员用错这两个符号。
### 3.1.3 比较(关系)运算符
比较运算符，也称关系运算符，用于对变量或表达式的结果进行大小、真假等比较。
| 运算符 | 作用 | 举例 | 结果 |
| --- | --- | --- | --- |
| > | 大于 | 'a'>'b' | False |
| < | 小于 | 156<456 | True |
| == | 等于 | 'c'=='c' | True |
| != | 不等于 | 'y'!='t' | True |
| >= | 大于等于 | 479>=426 | True |
| <= | 小于等于 | 62.4<=45.5 | False |
### 3.1.4 逻辑运算符
逻辑运算符是对真和假两种布尔值进行运算，运算后的结果仍是一个布尔值，Python中的逻辑运算符主要包括and(逻辑与)、or(逻辑或)、not(逻辑非)。
**表3.4 逻辑运算符**
| 运算符 | 含义 | 用法 | 结合方向 |
| --- | --- | --- | --- |
| and | 逻辑与 | op1 and op2 | 左到右 |
| or | 逻辑或 | op1 or op2 | 左到右 |
| not | 逻辑非 | not op | 右到左 |
使用逻辑运算符进行逻辑运算时，其运算结果如表3.5所示
**表3.5 使用逻辑运算符进行逻辑运算的结果**
| 表达式1 | 表达式2 | 表达式1 and 表达式2 | 表达式1 or 表达式2 | not 表达式1 |
| ---  | --- | --- | --- | --- |
| True | True | True | True | True |
| True | False | False | True | False |
| False | False | False | False | True |
| False | True | False | True | True |
### 3.1.5 位运算符
位运算符是把数字看作二进制数来进行计算的，因此需要先将要执行运算的数据转换为二进制，然后才能执行运算。Python中的位运算符有按位与(&)、按位或(|)、按位异或(^)、按位取反(~)、左移位(<<)和右移位(>>)运算符。
1. **“按位与”运算**
“按位与”运算的运算符为“&”，它的运算法则是，两个操作数的二进制表示，只有对应位都为1，结果才为1，否则为0。如果两个操作数的精度不同，则结果的精度与精度高的操作数相同。

| & 0000 0000 0000 1100 |
| --- |
| & 0000 0000 0000 1000 |
| & 0000 0000 0000 1000 |
2. “按位或”运算
“按位或”运算的运算符为“|”，它的运算法则是，两个操作数的二进制表示，只有对应位都为0，结果位才为0，否则为1。如果两个操作数的精度不同，则结果的精度与精度高的操作数相同。
3. “按位异或”运算
“按位异或”运算的运算符是“^”，它的运算法则是，当两个操作数的二进制表示相同(同时为0或同时为1)时，结果为0，否则为1。如果两个操作数的精度不同，则结果的精度与精度高的操作数相同。
4. “按位取反”
“按位取反”运算也称“按位非”运算，运算符“~”。“按位取反”运算就是将操作数对应二进制中的1修改为0，0修改为1。
5. "左移位"运算
“左移位”运算符为“<<”,它的运算法则是将一个二进制操作数向左移动指定的位数，左边(高位端)溢出的位被丢弃，右边(低位端)的空位用0补充。左移位运算相当于乘以2^n。
例如，int类型数据48对应的二进制数为00110000，将其左移1位，根据左移位运算符的运算规则可以得出(00110000<<1)=01100000，所以转换为十进制数就是96(48x2)；将其左移2位，根据左移位运算符的运算规则可以得出(00110000<<2)=11000000，所以转换位十进制数就是192(48x2`*2)`。
6. “右移位”运算
“右移位”的运算符为“>>”，它的运算法则是将一个二进制操作数向右移动指定的位数，右边(低位端)溢出的位被丢弃，而当填充左边(高位端)的空位时，如果最高位是0(正数)，则左侧空位填入0，如果最高位1(负数)，则左侧空位填入1。右移位运算相当于除以2`**n`。

![avatar](D:\offic_software\python相关\Python从入门到精通（第2版）\Python辅助学习挂图\RM(LDSY3X]8KY$PV8`31G`D.png)

## 3.2 运算符的优先级
所谓的运算符的优先级，是指在应用中哪一个运算符先计算，哪一个后计算，与数学的四则运算应遵循的“先乘除，后加减”是一个道理。
Python的运算符的运算规则是，优先级高的运算先执行，优先级低的运算后执行，同一优先级的操作按照从左到右的顺序进行。也可以像四则运算那样使用小括号，括号内的运算最先执行。
| 类型 | 说明 | 优先级 |
| --- | --- | --- |
| ** | 幂 | 高 |
| ~、+、- | 取反、正号和负号 | ^ |
| `*`、/、%、// | 乘、除、求余、取整除 | `|` |
| +、- | 算术运算符 | `|` |
| <<、>> | 位运算符中的左移和右移 | ^ |
| & | 位运算符中的按位与 | `|` |
| ^ | 位运算符中的按位异或 | `|` |
| `|` | 位运算符中的按位或 | `|` |
| <、<=、>、>=、!=、== | 比较运算符 | 低 |
**说明**
在编写程序时尽量使用括号"()"来限定运算次序，以免运算次序发生错误。
#### 3.3 条件表达式
在程序开发时，经常会根据表达式的结果有条件地进行赋值。
例如要返回两个数中较大的数，可以使用下面的if语句:
```Python
a = 10
b = 6
if a>b:
    r = a
else:
    r=b
```
# 第4章 流控制语句
## 4.1 程序结构
计算机在解决某个具体问题时，主要有3种情形，分别是顺序执行所有的语句、选择执行部分语句和循环执行部分语句。
对应程序设计中的3种基本结构时顺序结构、选择结构和循环结构。
 ## 4.2 选择语句
 ### 4.2.1 最简单的if语句
 Python中使用if保留字来组成选择语句，其最简单的语法形式如下:
 ```Python
if 表达式:
    语句块
```
其中，表达式可以是一个单纯的布尔值或变量，也可以是比较表达式或逻辑表达式，如果表达式的值为真，就执行"语句块";如果表达式的值为假，就跳过"语句块"，继续执行后面的语句。
**说明**
在Python中，当表达式的值为非零的数或者非空的字符串时，if语句也认为是条件成立(即为真值)。
使用if语句时，如果只有一条语句，语句块可以直接写到冒号":"的右侧。例：
```Python
if a > b: max = a
```
### 4.2.2 if……else语句
如果遇到只能二选一的条件。
```Python
if 表达式:
    语句块1
else:
    语句块2
```
在程序中使用if……else语句时，如果出现if语句多于else语句的情况，那么该else语句将会根据缩进确定该else语句是属于哪个if语句的。例如下面的代码：
```Python
a = -1
if a >= 0:
    if a > 0:
        print("a大于零")
    else:
        print("a等于零")
```
### 4.2.3 if……elif……else语句
开发程序时，如果遇到多选一的情况，可以使用if……elif……else语句，该语句是一个多分支选择语句。格式如下：
```Python
if 表达式1:
    语句块1
elif 表达式2:
    语句块2
elif 表达式3:
    语句块3
……
else:
    语句块n
```
**注意**
if和elif都需要判断表达式的真假，而else则不需要判断;另外，elif和else都必须跟if一起使用，不能单独使用。
### 4.2.4 选择语句的嵌套
3种形式的选择语句之间都可以互相嵌套。形式如下：
```python
if 表达式1:
    if 表达式2:
        语句块1
    else:
        语句块2
```
## 4.3 循环语句
反复做同一件事的情况，称为循环。循环主要有以下两种类型。
+ 重复一定次数的循环，称为计次循环，
+ 一直重复，直到条件不满足时才结束的循环，称为条件循环。只要条件为真，这种循环会一直持续下去。
### 4.3.1 while循环
while循环是通过一个条件来控制是否要继续反复执行循环体中的语句。格式：
```Python
while 条件表达式:
    循环体
```
**说明**
循环体是指一组被重复执行的语句。
### 4.3.2 for循环
for循环是一个计次循环，一般应用在循环次数已知的情况下。通常适用于枚举或遍历序列，以及迭代对象中的元素。格式：
```Python
for 迭代变量 in 对象:
    循环体
```
1. 进行数值循环
在使用for循环时，最基本的应用就是进行数值循环。
例如，想要实现从1~100的累加，可以通过下列代码实现:
```python
print("计算1+2+3+……+100的结果为:")
result = 0      # 保存累加结果的变量
for i in range(101):
    result += i         # 实现累加功能
print(result)   # 在循环结束时输出结果
```
在上述代码中使用了range()函数，该函数是python中的内置函数，用于生成一系列连续的整数，多用于for循环语句中。其语法格式如下：
```python
range(start,end,step)   # start 开始 end 结束 step 步长
```
参数说明：
+ start：用于指定计数的起始值，可以省略，如果省略则从0开始。
+ end：用于指定计数的结束值(但不包括该值，如range(7),则得到的值为0~6，不包括7)，**不能省略**。当range()函数中只有一个参数时，即表示指定计数的结束值end。
+ step:用于指定步长，即两个数之间的间隔，可以省略，如果省略则表示步长为1。
例如，使用下列for循环语句，将输出10以内的所有奇数：
```python
for i in range(1,10,2):
    print(i,end = ' ')
```
得到的结果如下：
```
1 3 5 7 9
```
**说明**
在python 3.x中，使用print()函数时，如果要实现输出的内容在一行上显示，就需要加上“,end = ' 分隔符'”，在上述代码中使用的分隔符为一个空格。
### 4.3.3 循环嵌套
在Python中，允许在一个循环体中嵌入另一个循环，这称为循环嵌套。例如：
```python
while 条件表达式1:
    while 条件表达式2:
        循环体2
    循环体1
```
## 4.4 break、continue和pass语句
当循环条件一直满足时，程序将会一直执行下去，就像一辆迷路的车，在某个地方不停地转圈圈，。如果希望在中间离开循环，也就是for循环结束计数之前，或者while循环找到结束条件之前，则有以下两种方法可以做到。
+ 使用continue语句直接跳到循环的下一次迭代。
+ 使用break语句完全中止循环。
### 4.4.1 break、continue和pass语句
break语句可以终止当前的循环，包括while和for在内的所有控制语句。break语句的语法比较简单，只需要在相应的while或for语句中加入即可。
**说明**
break语句一般会结合if语句进行搭配使用，表示在某种条件下跳出循环。如果使用嵌套循环，则break语句将跳出最内层的循环。
在while语句中使用while语句的形式如下：
```python
while 条件表达式1:
    执行代码
    if 条件表达式2:
        break
```
### 4.4.2 continue语句
continue语句的作用没有break语句强大，它只能中止本次循环而提前进入下一次循环中。
continue语句的语法比较简单，只需要在相应的while或for语句中加入即可。
**说明**
continue语句一般会结合if语句进行搭配使用，表示在某种条件下，跳过当前循环的剩余语句，然后继续进行下一轮循环。如果使用嵌套循环，则continue语句将只跳过最内层循环中的剩余语句。在while语句中使用continue语句的形式如下：
```python
while 条件表达式:
    执行代码
    if 条件表达式2:
        continue
```
### 4.4.3 pass语句
在python中还有一个pass语句，表示空语句。它不做任何事情，一般起到占位作用。
例如，当应用for循环输出1~10（不包括10）的偶数时，如果不是偶数，则应用pass语句占个位置，以方便以后对不是偶数的数进行处理。代码如下：
```python
for i in range(1,10):
    if i % 2 == 0:      # 判断是否为偶数
        print(i,end='')
    else:       # 不是偶数
        pass    # 占位符，不做任何事情
```
# 第5章 列表和元组
在数学里，序列也称为数列，是指按照一定顺序排列的一列数，而在程序设计中，序列是一种常用的数据存储方式，几乎每种程序设计语言都提供了类似的数据结构，如C语言或Java语言中的数组等。
在Python中，序列是最基本的数据结构。Python中内置了5个常用的序列结构，分别是列表、元组、集合、字典和字符串。
## 5.1 序列概述
序列是一块用于存储多个值的连续内容空间，并且按一定的顺序排列，每个值(称为元素)都分配一个数字，称为索引或位置。通过该索引可以取出相应的值。
在Python中，序列结构主要有列表、元组、集合、字典和字符串。对于这些序列结构有以下几个通用的操作。其中，集合和字典不支持索引、切片、相加和相乘操作。
### 5.1.1 索引
序列中的每个元素都有一个编号，也称为索引(index)。这个索引是从0开始编号的，即下标为0，表示第一个元素，而下标为1则表示第二个元素，以此类推。
Python比较神奇，它的索引可以是负数，这个索引从右向左计数，也就是从最后一个元素开始计数，即最后一个元素的索引为-1，而倒数第二个元素的索引则为-2，以此类推。
### 5.1.2 切片
切片(slice)操作是访问序列中元素的另一种方法，它可以访问一定范围内的元素。通过切片操作可以生成一个新的序列。实现切片操作的语法格式如下：
```
sname[start:end:step]
```
参数说明如下：
+ sname:表示序列的名称。
+ start:表示切片的开始位置(包括该位置)，如果不指定，则默认为0。
+ end：表示切片的截止位置(不包括该位置)，如果不指定，则默认为序列的长度。
+ step：表示切片的步长，如果省略，则默认为1，当省略该步长时，最后一个冒号也可以省略。
**说明**
在进行切片操作时，如果指定了步长，那么将按照该步长遍历序列的元素；否则将一个一个遍历序列。
### 5.1.3 序列相加
在Python中，支持两种相同类型的序列相加(addition)操作，即将两个序列进行连接，不会去除重复的元素，使用加(+)运算符实现。
例如，将两个列表相加，可以使用下列代码:
```Python
verse1 = ["自古逢秋悲寂寥","我言秋日胜春朝","晴空一鹤排云上","便引诗情到碧霄"]
verse2 = ["青青园中葵","朝露待日晞","阳春布德泽","万物生光辉","常恐秋节至","焜黄华叶衰","百川东到海","何时复西归","少壮不努力","老大徒伤悲"]
print(verse1 + verse2)
```
**误区警告**
在进行序列相加时，相同类型的序列是指，同为列表、元组、字符串等，序列中的元素类型可以不同。例如，下列代码也是正确的：
```Python
num = [7,14,21,28,35,42,49,56,63]
verse = ["自古逢秋悲寂寥","我言秋日胜春朝","晴空一鹤排云上","便引诗情到碧霄"]
print(num + verse)
```
但是，不能是列表和元组相加，也不能是列表和字符串相加。
### 5.1.4 乘法
在Python中，使用数字n乘以一个序列会生成新的序列。新序列的内容为原来序列被重复n次的结果。
例如，下列代码将实现把一个序列乘以3后生成一个新的序列并输出，从而达到重要事情说3遍的效果：
```Python
verse = ["自古逢秋悲寂寥","我言秋日胜春朝"]
print(verse*3)
```
在进行序列的乘法(multipliction)运算时，还可实现初始化指定长度列表的功能。例如，下列代码将创建一个长度为5的列表，列表的每个元素都是None，表示什么都没有：
```Python
emptylist = [None]*5
print(emptylist)
```
### 5.1.5 检查某个元素是否是序列的成员(元素)
在Python中，可以使用in关键字检查某个元素是否是序列的成员，即检查某个元素是否包含在该序列中。语法格式如下：
```Python
value in sequence
```
其中，value表示要检查的元素：sequence表示指定的序列。显示True，表示在序列中存在指定的元素。
另外，在Python中，也可以使用not in 关键字实现检查某个元素是否不包含在指定的序列中。
### 5.1.6 计算序列的长度、最大值和最小值
在Python中，提供了内置函数计算序列的长度、最大值和最小值。分别是使用len()函数计算序列的长度，即返回序列包含多少个元素；使用max()函数返回序列中的最大元素；使用min()函数返回序列中最小元素。
| 函数 | 说明 | 函数 | 说明 |
| --- | --- | --- | --- |
| list() | 将序列转换为列表 | sorted() | 对元素进行排序 |
| str() | 将序列转换为字符 | reversed() | 反向序列中的元素 |
| sum() | 计算元素和 | enumerate() | 将序列组合为一个索引序列，多用于for循环中 |
## 5.2 列表
Python中的列表和歌曲列表类似，也是有一系列按特定顺序排列的元素组成的。它是Python中内置的可变序列。在形式上，列表的所有元素都放在一对中括号“[]”中，连个相邻元素间使用逗号“,”分隔。
### 5.2.1 列表的创建和删除
1. 使用赋值运算符直接创建列表
同其它类型的Python变量一样，创建列表时，也可以使用赋值运算符“=”直接将一个列表赋值给变量。具体的语法格式如下：
listname = [element1,element2,element3,……,elementn]
其中，listname表示列表的名称，可以是任何符合Python命名规则的标识符；elementn表示列表中的元素，个数没有限制，并且只要是Python支持的数据类新就可以。
**说明**
在使用列表时，虽然可以将不同类型的数据放入同一个列表中，但是通常情况下，我们不这样做，而是在一个列表中只放入一种类型的数据。这样可以提高程序的可读性。
2. 创建空列表
在Python中，也可以创建空列表。格式：
emptylist = []
3. 创建数值列表
在Python中，数值列表很常用。例如，在考试系统中记录学生的成绩，或者在游戏中记录每个角色的位置，各个玩家的得分情况等。在Python中，可以使用list()函数直接将range()函数循环出来的结果转换为列表。
list()函数的基本语法如下：
list(data)
其中，data表示可以转换为列表的数据，其类型可以是range对象、字符串、元组或者其他可迭代类型的数据。
例如，创建一个10~20(不包括20)的所有偶数的列表，可以使用下列代码：
```Python
list(range(10,20,2))
```
运行上述代码，将得到下面的列表：
```
[10,12,14,16,18]
```
**说明**
使用list()函数不仅能通过range对象创建列表，还可以通过其他对象创建列表。
4. 删除列表
对于已经创建的列表当不再使用时，可以使用del语句将其删除。语法格式：
```Python
del listname
```
其中，listname为将要删除列表的名称。
**说明**
del语句在实际开发时，并不常用。因为Python自带的垃圾回收机制会自动销毁不用的列表，所以即使我们不手动将其删除，Python也会自动将其回收。
### 5.2.2 访问列表元素
在Python中，如果想将列表的内容输出也比较简单，可以直接使用print()函数。
如果不想输出全部的元素，也可以通过列表的索引获取指定的元素。例如，要获取列表untile中索引为2的元素，可以使用下列代码：
```Python
print(untitle(2))
```
### 5.2.3 遍历列表
遍历列表中的所有元素是常用的一种操作，在遍历的过程中可以完成查询、处理等功能。在生活中，如果想要去商场买一件衣服，就需要在商场中逛一遍，看是否有想要的衣服，逛商场的过程就相当于列表的遍历操作。方法有多种
1. 直接使用for循环实现
直接使用for循环遍历列表，只能输出元素的值。语法格式如下：
```Python
for item in listname:
    # 输出item
```
其中，item用于保存获取到的元素值，要输出元素内容时，直接输出该变量即可。
2. 使用for循环和enumerate()函数实现
使用for循环和enumerate()函数可以实现同时输出索引值和元素内容。其语法格式如下：
```Python
for index,item in enumerate(listname):
    # 输出index和item
```
参数说明：
+ index：用于保存元素的索引。
+ item：用于保存获取到的元素值，要输出元素内容时，直接输出该变量即可。
+ listname：列表名称。
### 5.2.4 添加、修改和删除列表元素
添加、修改和删除列表元素也称为更新列表。在实际开发时经常需要对列表进行更新。
1. 添加元素
在5.1节“序列概述”中介绍了可以通过“+”号将两个序列连接，通过该方法也可以实现为列表添加元素。但是这种方法的执行速度要比直接使用列表对象的append()方法慢，所以建议在实现为添加元素时，使用列表对象的append()方法实现。列表对象的append()方法用于在列表的末尾追加元素，其语法格式如下：
```Python
listname.append(obj)
```
obj为要添加到列表末尾的对象。
**说明**
列表对象除了提供append()方法像列表中添加元素，还提供了insert()方法向列表中添加元素。该方法用于向列表的指定位置插入元素。但是由于该方法的执行效率没有append()方法高，所以不推荐使用这种方法。
上述介绍的是向列表中添加一个元素，如果想要将一个列表中的全部元素添加到另一个列表中，可以使用列表对象的extend()方法实现。extend()方法的具体语法格式如下：
```Python
listname.extend(seq)
```
其中，listname为原列表；seq为要添加的列表。语句执行后，seq的内容将追加到listname的后面。
2. 修改元素
修改列表中的元素只需要通过索引获取该元素，然后为其重新赋值即可。
3. 删除元素
删除元素主要有两种情况：一种是根据索引删除；另一种是根据元素值进行删除。
(1)根据索引删除
删除列表中的指定元素和删除列表类似，也可以使用del语句实现。所不同的就是在指定列表名称时，换为列表元素。例如，定义一个保存3个元素的列表，删除最后一个元素，可以使用下列代码：
```Python
verse = ["长亭外","古道边","芳草碧连天"]
del verse[-1]
print(verse)
```
(2)根据元素值删除
如果想要删除一个不确定其位置的元素(即根据元素值删除)，可以使用列表对象的remove()方法实现。例如，要删除列表内容为“古道边”的元素，可以使用下列代码：
```Python
verse = ["长亭外","古道边","芳草碧连天"]
verse.remove("古道边")
```
**说明**
使用列表对象的remove()方法删除元素时，如果指定的元素不存在，则将会抛出ValueError异常，所以在使用remove()方法删除元素前，最好先判断该元素是否存在。
### 5.2.5 对列表进行统计计算
Python中的列表提供了内置的一些函数来实现统计计算方面的功能。
1. 获取指定元素出现的次数
使用列表对象的count()方法可以获取指定元素在列表中的出现次数。其语法格式如下：
```Python
listname.count(obj)
```
其中，obj表示要被判断出现的次数的对象，这里只能进行精确匹配，即不能时元素值的一部分。
2. 获取指定元素首次出现的下标
使用列表对象的index()方法可以获取指定元素在列表中首次出现的位置(即索引)。其语法格式如下：
```Python
listname.index(obj)
```
参数说明：
+ listname：表示列表的名称。
+ obj：表示要查找的对象，这里只能进行精确匹配。如果指定的对象不存在，则抛出ValueError异常。
+ 返回值：首次出现的索引值。
3. 统计数值列表的元素和
在Python中，提供了sum()函数用于统计数值列表中各元素的和。其语法格式如下：
```Python
sum(iterable[,start])
```
参数说明：
+ iterable：表示要统计的列表。
+ start：表示统计结果是从哪个数开始(即将统计结果加上shart所指定的数)，是可选参数，如果没指定，则默认值为0。
### 5.2.6 对列表进行排序
在实际开发中，经常需要对列表进行排序。Python中提供了两种常用的对列表进行排序的方法。
1. 使用列表对象的sort()方法实现
列表对象提供了sort()方法用于对原列表中的元素进行排序。排序后，原列表中的元素顺序将发生改变。列表对象的sort()方法的语法格式如下：
```Python
listname.sort(key=None,reverse=False)
```
参数说明如下：
+ listname：表示要进行排序的列表。
+ key：表示指定一个从每个列表元素中提取一个比较键(例如，设置“key=st.lower”表示在排序时不区分字母大小写)。
+ reverse：可选参数，如果将其值指定为True，则表示降序排列；如果将其值指定为False，则表示升序排列。默认为升序排列。
**说明**
使用sort()方法对字符串列表进行排序时，采用的规则是先对大写字母进行排序，然后再对小写字母进行排序。如果想要对字符串列表进行排序(不区分大小写时)，则需要指定其key参数。
**说明**
采用sort()方法时对列表进行排序时，对于中文支持不好。排序的结果与我们常用的按拼音或者笔画都不一致。如果想要实现对中文内容的列表排序，那么还需要重新编写相应的方法进行处理，不能直接使用sort()方法。
2. 使用内置的sorted()函数实现
在Python中，提供了内置的sorted()函数，用于对列表进行排序。使用该函数进行排序后，原列表的元素顺序不变。sorted()函数的语法格式如下：
```Python
sorted=(iterable,key=None,reverse=False)
```
参数说明：
+ iterable：表示要进行排序的排列名称。
+ key：表示指定从每个元素中提取一个用于比较的键(例如，设置“key=str.lower”表示在排序时不区分字母大小写)。
+ reverse：可选参数，如果将其指定为True，则表示降序排列；如果将其值指定为False，则表示升序排列。默认为升序排列。
**说明**
列表对象的sort()方法和内置sorted()函数的作用基本相同，所不同的就是使用sort()方法时，会改变原列表的元素排列顺序，但是使用sorted()函数时，会建立一个原列表的副本，该副本为排序后的列表。
### 5.2.7 列表推导式
使用列表推导式可以快速生成一个列表，或者根据某个列表生成满足指定需求的列表。列表推导式通常有以下几种常用的语法格式：
(1)生成指定范围的数值列表，语法格式：
```Python
list = [Expression for var in range]
```
参数说明：
+ list：表示生成的列表名称。
+ Expression：表达式，用于计算新列表的元素。
+ var:循环变量。
+ range():采用range()函数生成的range对象。
(2)根据列表生成指定需求生成指定需求的列表，语法格式如下：
```Python
newlist = [Expression for var in list]
```
参数说明：
+ newlist：表示新生成的列表名称。
+ Expression：表达式，用于计算新列表的元素。
+ var：变量，值为后面列表的每个元素值。
+ list：用于生成新列表的原列表。
例如，定义一个记录商品价格的列表，然后应用列表推导生成一个将全部商品价格打五折的列表，具体代码如下：
```Python
price = [1200,5330,2988,6200,1988,8888]
saie = [int(x*0.5) for x in price]
print("原价格：",price)
print("打五折的价格：",saie)
```
(3)从列表中选择符合条件的元素组成新的列表，语法格式如下：
```Python
newlist = [Expression for var in list if condition]
```
参数说明：
+ newlist：表示新生成的列表名称。
+ Expression：表达式，用于计算新列表的元素。
+ var：变量，值为后面列表的每个元素值。
+ list：用于生成新列表的原列表。
+ condition：条件表达式，用于指定筛选条件。
例如，定义一个记录商品价格的列表，然后应用列表推导式生成一个商品价格高于5000 列表，具体代码如下：
```Python
price = [1200,5330,2988,6200,1998,8888]
saie = [x for x in price if x>5000]
```
### 5.2.8 二维列表
在Python中，由于列表元素可以是列表，因此它也支持二维列表的概念。
在Python中，创建二维列表有以下3种常用的方法。
1. 直接定义二维列表
在Python中，二维列表就是包含列表的列表。即一个列表的每个元素又都是一个列表。所以在创建二维列表时，可以直接使用下列语法格式进行定义：
```Python
listname = [[元素11,元素12,元素13,……,元素1n],
            [元素21,元素22,元素23,...,元素2n],
            ...,
            [元素n1,元素n2,元素n3,...,元素nn]]
```
参数说明：
+ listname：表示生成的列表名称。
+ [元素11,元素12,元素13,...,元素1n]：表示二维列表的第1行，也是一个列表。其中，元素11、元素12……代表第1行中的列。
+ [元素21,元素22,元素23,...,元素2n]：表示二维列表的第2行。
+ [元素n1,元素n2,元素n3,...,元素nn]：表示二维列表的第n行。
2. 使用嵌套的for循环创建
创建二维列表，可以使用嵌套的for循环实现。例如，创建一个包含4行5列的二维列表，可以使用以下列代码：
```Python
arr = []    # 创建一个空列表
for i in range(4):
    arr.append([])  # 在空列表中再添加一个空列表
    for j in range(5):
        arr[j].append(j)    # 为内层列表添加元素
```
3. 使用列表推导式创建
使用列表推导式也可以创建二维列表，而且这种方法也是被推荐的方法，因为它比较简洁。例如，要使用列表推导式创建一个包含4行5列的二维列表，可以使用下列代码:
```Python
arr = [[j for j in range(5)] for i in range(4)]
```
创建二维数组后，可以通过以下语法格式访问列表中的元素：
```Python
listname[下标1][下标2]
```
参数说明：
+ listname：表示列表名称。
+ 下标1：表示列表中第几行，下标值从0开始，即第1行的下标为0。
+ 小标2：表示列表中第几列，下标值从0开始，即第1列的下标为0。
## 5.3 元组
元组(tuple)是Python中另一个重要的序列结构，与列表类似，也是由一系列按特定顺序的元素组成。但是，它为不可变序列。因此，元组也可以称为不可变的列表。在形式上，元组的所有元素都放在一对小括号“()”中，两个相邻元素间使用逗号“,”分隔；在内容上，可以将整数、实数、字符串、列表、元组等任何类型的内容放入元组中，并且同一个元组中，元素的类型可以不同，因为它们之间没有任何关系。通常情况下，元组用于保存程序中不可修改的内容。
**说明**
从元组和列表的定义上看，这两种结构比较相似，它们之间的主要区别就是，元组为不可变序列，而列表则为可变序列。也就是说，元组中的元素不可以单独修改，而列表则可以任意修改。
### 5.3.1 元组的创建和删除
在Python中提供了多种创建元组的方法。
1. 使用赋值运算符直接创建元组
同其他类型的Python变量一样，创建元组时，也可以使用赋值运算符“=”直接将一个元组赋值给变量，语法格式如下：
```Python
tuplename = (element1,element2,element3,....,elementn)
```
其中，tuplename表示元组的名称，可以是任何符合Python命名规则的标识符；element1……表示元组中的元素，个数没有限制。
**注意**
创建元组的语法与创建列表的语法结构类似，列表中用“[]”，而元组中用“()”
2. 创建空元组
在Python中，也可以创建空元组。例：
```Python
emptytuple = ()
```
3. 创建数值元组
在Python中，可以使用tuple()函数直接将range()函数循环出来的结果转换为数值元组。
tuple()函数的基本语法如下：
```Python
tuple(data)
```
其中，data表示可以转换为元组的数据，其类型可以是range对象、字符串、元组或者其他可迭代类型的数据。
4. 删除元组
对于已经创建的元组，不再使用时，可以使用del语句将其删除。其语法格式如下：
```python
del tuplename
```
**说明**
del语句放在实际开发时，并不常用。python会自动回收。
### 5.3.2 访问元组元素
在Python中，如果想将元组的内容输出也比较简单，可以直接使用print()函数。若获取指定元素。例如，要获取元组untitle中索引为0的元素，可以使用下列代码：
```Python
print(untitle[0])
```
若想访问前3个元素。
```Python
print(untitle[:3])
```
另外，元组还可以使用for循环和enumerate()函数结合进行遍历。
**说明**
enumerate()函数用于将一个可遍历的数据对象(如列表或元组)组合为一个索引序列，同时列出数据和数据下标，一般在for循环中使用。
语法：
```Python
enumerate(sequence[,start = 0])
```
**参数：**
+ sequence：一个序列、迭代器或其他支持迭代对象。
+ start：下标起始位置。
**返回值**
返回enumerate(枚举)对象
以下展示了使用enumerate()方法的实例：
```Python
seasons = ['Sprint','Summer','Fall','Winter']
list(enumerate(seasons))
# 输出：[(0,'Sprint'),(1,'Summer'),(2,'Fall'),(3,'Winter')]
list(enumerate(seasons,start = 1))  # 下标从1开始
# [(1,'Summer'),(2,'Summer'),(3,'Fall'),(4,'Winter')]
```
### 5.3.3 修改元组
元组是不可变序列，所以我们不能对它的单个元素值进行修改，但是元组也并不是完全被修改的。我们可以对元组进行重新赋值。例如，下列代码是允许的：
```Python
coffeename = ('蓝山','卡布奇诺','曼特宁','摩卡','巴西','哥伦比亚')  # 定义元组
coffeename = ('蓝山','卡布奇诺','曼特宁','摩卡','土耳其','哥伦比亚')    # 对元组进行重新赋值
pirnt('新元组',coffeename)

# 结果：新元组('蓝山','卡布奇诺','曼特宁','摩卡','土耳其','哥伦比亚')
```
从以上结果中可以看出，元组coffeename的值已经改变。
另外，还可以对元组进行连接组合。例如，
```Python
ukguzheng = ('蓝山','卡布奇诺','曼特宁','摩卡')
print('原元组：',ukguzheng)
ukguzheng = ukguzheng + ('巴西','哥伦比亚')
print('组合后：',ukguzheng)

'''输出结果
原元组： ('蓝山', '卡布奇诺', '曼特宁', '摩卡')
组合后： ('蓝山', '卡布奇诺', '曼特宁', '摩卡', '巴西', '哥伦比亚')
'''
```
**注意**
在进行元组连接时，连接的内容必须都是元组。不能将元组和字符串或者列表进行连接。
### 5.3.4 元组推导式
使用元组推导式可以快速生成一个元素，它的表现形式和列表推导式类似，只是将列表推导式中的中括号“[]”修改位小括号“()”。例如，我们可以使用下列代码生成一个包含10个随机数的元组：
```Python
import random   # 导入random标准库
randomnumber = (random.randint(10,100) for i in range(10))
print("生成的元组为",randomnumber)

'''输出结果
生成的元组为 <generator object <genexpr> at 0x00000233E88BD200>
'''
```
从上述执行结果中可以看出，使用元组推导式生成的结果并不是一个元组或者列表，而是一个生成器对象，这一点和列表推导式不同。要使用该生成器对象，可以将其转换为元组或者列表。其中，转换为元组使用tuple()函数，而转换为列表则使用list()函数。
例如，使用元组推导式生成一个包含10个随机数的生成器对象，然后将其转换为元组并输出，可以使用以下代码：
```Python
import random   # 导入random标准库
randomnumber = (random.randint(10, 100)for i in range(10))
randomnumber = tuple(randomnumber)  # 转换为元组
print("转换后：", randomnumber)

'''输出结果
转换后： (23, 19, 84, 53, 83, 60, 91, 100, 37, 53)
'''
```
要使用通过元组推导器生成的生成器对象，还可以直接通过for循环遍历，或者直接使用_next_()方法进行遍历。
例如，通过生成器推导式生成一个包含3个元素的生成器对象number，然后调用3次_next_()方法输出每个元素，最后将生成器对象number转换为元组输出，代码如下：
```Python
number = (i for i in range(3))
print(number.__next__())    # 输出第1个元素
print(number.__next__())    # 输出第2个元素
print(number.__next__())    # 输出第3个元素
number = tuple(number)      # 转换为元组
print("转换后：", number)

'''输出结果
0
1
2
转换后： ()
'''
```
再如，通过生成器推导式生成一个包括4个元素的生成器对象number，然后应用for循环遍历该生成器对象，并输出每个元素的值，最后将其转换为元组输出，代码如下：
```Python
number = (i for i in range(4))  # 生成生成器对象
for i in number:    # 遍历生成器对象
    print(i,end=' ')     # 输出么个元素的值
print(tuple(number))

'''输出结果
0 1 2 3 ()
'''
```
从两个示例中可以看出，无论通过哪种方法遍历，如果还想再使用该生成器对象，都必须重新创建一个生成器对象。因为遍历后，原生成器对象已经不存在。
### 5.3.5 元组与列表的区别
元组和列表都属于序列，而且它们又都可以按照特定顺序存储一组元素，类型又不受限制，只要是Python支持的类型都可以。
简单理解：列表类似于我们用铅笔在纸上写下自己喜欢的歌曲名字，当写错时用橡皮擦可以擦掉；而元组则类似于用钢笔写下的歌曲名字，当写错时用橡皮无法擦除，除非换一张纸重写。
区别：
1. 列表属于可变序列，它的元素可以随时被修改或者删除；而元组属于不可变序列，其中的元素不可以被修改，除非整体替换。
2. 列表可以使用append()、extend()、insent()、remove()和pop()等方法实现添加和修改列表元素；而元组则没有这几个方法，因为不能向元组中添加和修改元素。同样，也不能删除元组中的元素。
3. 列表可以使用切片访问和修改列表中的元素。元组也支持切片，但是它只支持通过切片访问元组中的元素，不支持修改。
4. 元组比列表的访问和处理速度快。所以如果只需要对其中的元素进行访问，而不进行任何修改，建议使用元组而不使用列表。
5. 列表不能作为字典的键，而元组可以。
# 第6章 字典和集合
在Python中，除前面章节中介绍的序列数据结构外，还包含字典和集合。其中，字典可以看作是“键-值对”的集合，就像电话通讯录，可以将联系人姓名和电话号码关联起来，在需要时可以直接通过姓名找到对应的电话；而集合就像是收集了很多的表情包，里面的所有表情都是唯一的。
## 6.1 字典
字典(dinctionary)是无序的、可变的，保存内容是以“键-值对”的形式存储的。这类似于《新华字典》，它可以把拼音和汉字关联起来。通过音节表可以快速找到想要的汉字。其中，《新华字典》里的音节表相当于键(key)，而对应的汉字则相当于值(value)。键是唯一的，而值可以有多个。字典在定义一个包含多个命名字段的对象时，很有用。
字典的特征：
+ 通过键而不是通过索引来读取。字典有时也被称为关联数组或者散列表(hash table)。它是通过键将一系列的值联系起来的，这样就可以通过键从字典中获取指定项，但不能通过索引来获取。
+ 字典是对象的无序集合。字典是无序的，各项是从左到右随机排序的，即保存在字典中的项没有特定的顺序。这样就可以提高查找顺序。
+ 字典是可变的，并且可以任意嵌套。字典可以在原处增长或者缩短(无须生成一个副本)，并且它支持任意深度的嵌套(即它的值可以时列表或者其他的字典)。
+ 字典中的键必须唯一。不允许同一个键出现两次，如果出现两次，则后一个值会被记住。
+ 字典中的键必须不可变。字典中的键是不可变的，所以可以使用数字、字符串或者元组，但不能使用列表。
### 6.1.1 字典的创建和删除
定义字典时，每个元素都包含两个部分——“键”和“值”，并且在“键”和“值”之间使用冒号分隔，相邻两个元素使用逗号分隔，所有元素放在一个大括号“{}”中，语法格式如下：
```Python
dictionary = {'key1':'value1','key2':'value2',……,'keyn':'valuen'}
```
参数说明如下：
+ dictionary：表示字典名称
+ key1，key2，……，keyn：表示元素的键，必须是唯一的，并且不可变，例如可以是字符串、数字或者元组。
+ value1，value2，……，valuen：表示元素的值，可以是任何数据类型，不是必须唯一。
例如，创建一个保存通讯录信息的字典，可以使用下列代码：
```Python
dictionary = {'qq':'84978981','明日科技':'84978982','无语':'0431-84978981'}
print(dictionary)
```
同列表和元组一样，也可以创建空字典。在Python中，可以使用下列两种方法创建空字典：
```Python
dictionary = {}
```
或者：
```Python
dictionary = dict()
```
Python的dict()方法除了可以创建一个空字典，还可以通过已有数据快速创建字典。主要表现为以下两种方式。
1. **通过映射函数创建字典**
语法格式如下：
```Python
dictionary = dict(zip(list1,list2))
```
参数说明如下：
+ dictionary：表示字典名称
+ zip()函数：用于将多个列表获元组对应位置的元素组合为元组，并返回包含这些内容的zip对象。如果想得到元组，可以使用tuple()函数将zip对象转换为元组；如果想得到列表，可以使用list()函数将其转换为列表。
+ list1：表示一个列表，用于指定要生成字典的键。
+ list2：表示一个列表，用于指定要生成字典的值。如果list1和list2的长度不同，则与最短的列表长度相同。
2. 通过给定的“键-值对”创建字典
语法格式如下：
```Python
dictionary = dict(key1 = value1,key2 = value2,……,keyn = valuen)
```
参数如下：
+ dictionary：表示字典名称
+ key1，key2，……keyn：表示元素的键，必须是唯一的，并且不可改变，例如可以是字符串、数字或者元组。
+ value1，value2，……，valuen：表示元素的值，可以是任何数据类型，不是必须唯一。
例如，将名字和星座通过“键-值对”的形式创建一个字典，可以使用下列代码：
```Python
dictionary = dict(绮梦 = '水瓶座',冷尹一 = '射手座',香凝 = '双鱼座',黛蓝 = '双子座')
print(dictionary)
```
在Python中，还可以使用dict对象的fromkeys()方法创建值为空的字典，语法格式如下：
```Python
dictionary = dict.fromkeys(list1)
```
**描述：**
Python字典fromkeys()函数用于创建一个新字典，以序列seq中元素做字典的键，value为字典所有键对应的初始值。
**语法：**
```
dict.fromkeys(seq[,value])
```
**参数：**
+ seq：字典键值列表。
+ value：可选参数，设置键序列(seq)对应的值，默认为None。
**返回值**
该方法返回一个字典。
例如，创建一个尽包括名字的字典，可以使用下列代码：
```Python
name_list = ['绮梦','冷尹一','香凝','黛蓝']     # 作为键的列表
dictionary = dict.fromkeys(name_list)
print(dictionary)
```
另外，还可以通过已经存在的元组和列表创建字典。例如，创建一个保存名字的元组和保存星座的列表，然后通过它们创建一个字典，可以使用以下代码：
```Python
name_tuple = ('绮梦','冷尹一','香凝','黛兰')    # 作为键的元组
sign = ['水瓶座','射手座','双鱼座','双子座']    # 作为值的列表
dict1 = {name_tuple:sign}   # 创建字典
print(dict1)
```
如果将作为键的元组修改为列表，在创建一个字典，代码如下：
```Python
name_tuple = ['绮梦','冷尹一','香凝','黛兰']    # 作为键的元组
sign = ['水瓶座','射手座','双鱼座','双子座']    # 作为值的列表
dict1 = {name_tuple:sign}   # 创建字典
print(dict1)

'''
将出现错误！！！
'''
```
同列表和元组一样，对于不再需要的字典，也可以使用del语句将其删除。例如：
```Python
del dictionary
```
另外，如果只是乡删除字典的全部元素，可以使用字典对象的clear()方法。执行clear()方法后，原字典将便为空字典。例如：
```Python
dictionary.clear()
```
除上述介绍的方法可以删除字典元素外，还可以使用字典对象的pop()方法删除并返回指定“键”的元素，以及使用字典对象的popitem()方法删除并返回字典的一个元素。
### 6.1.2 访问字典
再Python中，如果想将字典的内容输出也比较简单，可以直接使用print()函数。
使用字典时，很少会直接输出它的内容。一般需要根据指定的键得到相应的结果。在Python中，访问字典的元素可以通过下标的方式实现，与列表和元素不同，这里的下标不是索引号，而是键。例如，想要获取“冷尹一”的星座，可以使用以下代码：
```Python
print(dictionary['冷尹一'])

'''输出
射手座
'''
```
在使用上述方法获取指定键的值时，如果指定的键不存在，将抛出异常。
在实际开发中，很可能我们不知道当前存在什么键，所以需要避免上述异常的产生。具体的解决方法是使用if语句对不存在的情况进行处理，即给一个默认值。例如，可以将上述代码修改为以下内容：
```Python
print("冷尹一的星座是：",dictionary["冷尹"] if '冷尹' in dictionary else '我的字典里没有此人')
```
另外，Python中推荐的方法是使用字典对象的get()方法获取指定键的值。其语法格式：
```Python
dictionary.get(key[,default])
```
**参数说明：**
+ dictionary：为字典对象，即要从中获取值的字典。
+ key:为指定的键。
+ default：为可选项，用于当指定的键不存在时，返回一个默认值，如果省略，则返回None。

### 6.1.3 遍历字典
字典是以“键-值对”的形式存储数据的，所以就可能需要对这些“键-值对”进行获取。Python提供了遍历字典的方法，通过遍历可以获取字典中的全部“键-值对”。
使用字典对象的items()方法可以获取字典的“键-值对”列表。其语法格式如下：
```Python
dictionary.items()
```
其中，dictionary为字典对象；返回值为可遍历的“键-值对”元组列表。想要获取具体的“键-值对”，可以通过for循环遍历该元组列表。
例如，定义一个字典，然后通过items()方法获取“键-值对”的元组列表，并输出全部“键-值对”，代码如下：
```Python
dictionary = {'qq':'84978981','明日科技':'8768574','无语':'095-257'}
for item in dictionary.items():
    print(item)
```
上述实例得到的时元组中的各个元素，如果想要获取具体的每个键和值，可以使用下列代码进行遍历：
```Python
dictionary = {'qq':'84978981','明日科技':'8768574','无语':'095-257'}
for key,value in dictionary.items():
    print(key,"的联系电话是",value)
```
**说明**
在Python中，字典对象还提供了values()和keys()方法，用于返回字典的“值”和“键”列表，它们的使用方法同items()方法类似，也需要通过for循环遍历该字典列表，获取对应的值和键。
### 6.1.4 添加、修改和删除字典元素
由于字典是可变序列，因此可以随时在其中添加“键-值对”，这和列表类似。向字典中添加元素的语法格式如下：
```Python
dictionary[key] = value
```
参数说明如下：
+ dictionary：表示字典名称
+ key：表示要添加的元素的键，必须是唯一的，并且不可变，例如可以是字符串、数字或者元组。
+ value：表示元素的值，可以是任何数据类型，不是必须唯一。
由于在字典中，“键”必须是唯一的，因此如果新添加元素的“键”与已经存在的“键”重复，那么将使用新的“值”替换原来该“键”的值，这也相当于修改字典的元素。例如：
```Python
dictionary = dict((('绮梦','水瓶座'),('冷尹一','射手座'),('香凝','双鱼座'),('黛兰','双子座')))
dictionary['香凝'] = "天蝎座"       # 添加一个元素，当元素存在时，则相当于修改功能
print(dictionary)
```
当字典中的某个元素不需要时，可以使用del语句将其删除。例如，要删除字典dictionary的键为“香凝”的元素，可以使用下列代码：
```Python
dictionary = dict((('绮梦','水瓶座'),('冷尹一','射手座'),('香凝','双鱼座'),('黛兰','双子座')))
del dictionary['香凝']      # 删除一个元素
print(dictionary)
```
**说明**
当删除一个不存的键时，将抛出异常。
### 6.1.5 字典推导式
使用字典推导式可以快速生成一个字典，它的表现形式和列表推导式类似。例如，我们可以使用下列代码生成一个包含4个随机数的字典，其中字典的键使用数字表示：
```Python
import random       # 导入random标准库
randomdict = {i:random.randint(10,100) for i in range(1,5)}
print("生成的字典为",randomdict)
```
另外，使用字典推导式也可以根据列表生成字典。例如：
```python
name = ['绮梦','冷尹一','香凝','黛兰']      # 作为键的列表
sign = ['水瓶','射手','双鱼','双子']        # 作为值的列表
dictionary = {i:j+'座' for i,j in zip(name,sign)}       # 使用字典推导式创建字典
print(dictionary)       # 输出转换后的字典
```
## 6.2 集合
Python中的集合(set)与数学中的集合概念类似，也是用于保存不重复的元素。它有可变集合set和不可变集合frozenset
………………
……………………
…………………………
…………………………………
…………………………………………
……………………………………………………
……………………………………………………………………
…………………………………………………………………………………………
……………………………………………………………………
……………………………………………………
…………………………………………
…………………………………
…………………………
……………………
…………

## 10.2 类的定义和使用
在Python中，类的定义使用class关键字来实现，语法如下：
```Python
class ClassName:
    """类的帮助信息"""          # 类文档字符串
    statement               # 类体
```
参数说明如下。
+ ClassName：用于指定类名，一般使用大写字母开头，如果类名中包含两个单词，第二个单词的首字母也大写，这种命名方法也称为“驼峰式命名法”，这是惯例。当然，也可根据自己的习惯命名，但一般推荐按照惯例来命名。
+ """类的帮助信息"""：用于指定类的文档字符串，定义该字符串后，在创建类的对象时，输入类名和左侧的括号“(”后，将显示该信息。
+ statement：类体，主要由类变量(或成员)、方法和属性等定义语句组成。如果在定义类时，没有想好类的具体功能，也可以在类体中直接使用pass语句代替。
例如，下面以大雁为例声名一个类，代码如下：
```Python
class Geese:
    """大雁类"""
    pass
```

### 10.2.2 创建类的实例
定义完类后，并不会真正创建一个实例。这就有点像一辆汽车的设计图。设计图可以告诉你，汽车看上去怎么样，但设计图本身不是一辆汽车。你不能开走它，它只能用来制造真正的汽车，而且可以使用它制造很多汽车。那么如何创建实例呢？

class语句本身并不创建该类的任何实例。所以在类定义完成以后，可以创建类的实例，即实例化该类的对象。创建类的实例的语法如下：
```Python
ClassName(parameterlist)
```
其中，ClassName是必选参数，用于指定具体的类，Parameterlist是可选参数，当创建一个类时，没有创建__init__()方法，或者__init__()方法只有一个self参数时，parameter可以被省略。

### 10.2.3 创建__init__()方法
在创建类后，通常会创建一个__init__()方法，该方法是一个特殊的方法，类似Java语言中的构造方法。每当创建一个类的新实例时，Python都会自动执行它。__init__()方法中必须包含一个self参数，并且必须是第一个参数。self参数是一个指向实例本身的引用，用于访问类中的属性和方法。在方法被调用时会自动传递实际参数self。因此，__init__()方法中只有一个参数的情况下，当创建类的实例时，就无须指定实际参数。
**说明**
在__init__()方法的名称中，开头和结尾处均为双下划线(中间没有空格)，这是一种约定，旨在区分Python默认方法和普通方法。

例如，下面仍然以大雁为例声明一个类，并且创建__init__()方法，代码如下：
```Python
class Geese:
    """大雁类"""
    def __init__(self):     # 构造方法
        print("我是大雁类!")
wildGoose = Geese()     # 创建大雁的实例
```
从上述运行结果中可以看出，在创建大雁类的实例时，虽然没有为__init__()方法指定参数，但是该方法会自动执行。

在__init__()方法中，除self参数外，还可以自定义一些参数，参数间使用逗号“,”进行分隔。例如，下面的代码将在创建__init__()方法时再指定3个参数，分别时beak、wing、和claw。
```Python
class Geese:
    """大雁类"""        # 构造方法
    def __init__(self, beak, wing, claw):
        print("我是大雁类！我有以下特征：")
        print(beak)     # 输出喙的特征
        print(wing)     # 输出翅膀的特征
        print(claw)     # 输出爪子的特征

beak_1 = "喙的基部较高，长度和头部的长度几乎相等"   # 喙的特征
wing_1 = "翅膀长而尖"       # 翅膀的特征
claw_1 = "爪子是蹼状的"     # 爪子的特征
wildGoose = Geese(beak_1, wing_1, claw_1)       # 创建大雁类的实例
```

### 10.2.4 创建类的成员并访问
类的成员主要由实例方法和数据成员组成。在类中创建了类的成员后，可以通过类的实例进行访问。

1. 创建实例方法并访问
所谓实例方法，是指在类中定义的函数。该函数是一种在类的实例上操作的函数。同__init__()方法一样，实例方法的第一个参数必须是self，并且必须包含一个self参数。创建实例方法的语法格式如下:
```Python
def functionName(self, parameterlist):
    block
```
参数说明：
+ functionName：用于指定方法名，一般使用小写字母开头。
+ self：必要参数，表示类的实例，其名称可以是self以外的参数，各参数间使用逗号“,”进行分隔。
+ parameterlist：用于指定除self参数以外的参数，各参数间使用逗号“,”进行分隔。
+ block：方法体，实现具体的功能。
**说明**
实例方法和Python中的函数的主要区别就是，函数实现某个独立的功能，而实例方法则实现类中的一个行为，是类的一部分。

在成功创建实例方法后，可以通过类的实例名称和点(.)操作符进行访问。具体的语法格式如下：
```Python
instanceName.functionName(parametervalue)
```
具体实例：
```Python
class Geese:        # 创建大雁类
    """大雁类"""
    def __init__(self, beak, wing, claw):       # 构造方法
        print("我是大雁类！我有以下特征:")
        print(beak)
        print(wing)
        print(claw)
    
    def fly(self, state):       # 定义飞行方法
        print(state)

beak_1 = "喙的基部较高，长度和头部的长度几乎相等"   # 喙的特征
wing_1 = "翅膀长而尖"       # 翅膀的特征
claw_1 = "爪子是蹼状的"     # 爪子的特征
wildGoose = Geese(beak_1, wing_1, claw_1)       # 创建大雁类的实例
wildGoose.fly("我飞行的时候，一会儿排成个人字，一会排成个一字")     # 调用实例方法
```

2. 创建数据成员并访问
数据成员是指在类中定义的变量，即属性，根据定义位置，又可以分为类属性和实例属性。下面分别进行介绍。
+ 类属性
类属性是指定义在类中，并且在函数体外的属性。类属性可以在类的所有实例之间共享值，也就是所有实例化的对象中公用。
**说明**
类属性可以通过类名称或者实例名被访问。
例如，定义一个雁类Geese，在该类中定义3个类属性，用于记录雁类的特征，代码如下：
```Python
class Geese:
    """雁类"""
    neck = "脖子较长"       # 定义类属性(脖子)
    wing = "振翅频率较高"       # 定义类属性(翅膀)
    leg = "腿位于身体的中心支点，行走自如"      # 定义类属性(腿)

    def __init__(self):     # 实例方法(相当于构造方法)
        print("我属于雁类！我有以下特征：")
        print(Geese.neck)       # 输出脖子的特征
        print(Geese.wing)       # 输出翅膀的特征
        print(Geese.leg)        # 输出腿的特征

geese = Geese()     # 实例化一个雁类的对象
```

定义一个雁类Geese，并在该类中定义4个类属性，前3个用于记录雁类的特征，第4个用于记录实例编号；接着定义一个构造方法，在该构造方法中将记录实例编号的类属性进行加1操作，并输出4个类属性的值；最后通过for循环创建4个雁类的实例。代码如下：
```Python
class Geese:
    '''雁类'''
    neck = "脖子较长"                       # 类属性（脖子）
    wing = "振翅频率高"                     # 类属性（翅膀）
    leg = "腿位于身份的中心支点，行走自如"  # 类属性（腿）
    number = 0                              # 编号
    def __init__(self):                     # 构造方法
        Geese.number += 1                   # 将编号加1
        print("\n我是第"+str(Geese.number)+"只大雁，我属于雁类！我有以下特征：")
        print(Geese.neck)    # 输出脖子的特征
        print(Geese.wing)    # 输出翅膀的特征
        print(Geese.leg)     # 输出腿的特征

# 创建4个雁类的对象（相当于有4只大雁)
list1 = []
for i in range(4):                         # 循环4次
     list1.append(Geese())                 # 创建一个雁类的实例
print("一共有"+str(Geese.number)+"只大雁")

# 以下代码为添加类属性的代码，删除上下的三引号即可正常运行
'''
Geese.beak = "喙的基部较高，长度和头部的长度几乎相等"  # 添加类属性
print("第2只大雁的喙：",list1[1].beak)    # 访问类属性
'''
```

在Python中，除了可以通过类名称访问类属性，还可以动态地为类和对象添加属性。例如，在例10.2的基础上为雁类添加一个beak属性，并通过类的实例访问该属性，可以在上述代码的后面再添加以下代码：
```Python
Geese.beak = "喙的基部较高，长度和头部的长度几乎相等"       # 添加类的属性
print("第2只大雁的喙:", list1[1].beak)      # 访问类属性
```
**说明**
除了可以动态地为类和对象添加属性，也可以修改类属性。修改结果将作用于该类的所有实例。

+ 实例属性
实例属性是指定义在类的方法中的属性，只作用于当前实例中。

例如，定义一个雁类Geese，在该类的__init__()方法中定义了3个实例属性，用于记录雁类的特征，代码如下：
```Python
class Geese:
    """雁类"""
    
    def __init__(self):     # 实例方法(相当于构造方法)
        self.neck = "脖子较长"      # 定义实例属性(脖子)
        self.wing = "振翅频率较高"      # 定义实例属性(翅膀)
        self.leg = "腿位于身体的中心支点，行走自如"     # 定义实例属性(腿)
        print(""我属于雁类！我有一下特征：)
        print(self.neck)
        print(self.wing)
        print(self.leg)

geese = Geese()
```
**误区警示**
实例属性只能通过实例名被访问。如果通过类名访问实例属性，那么将抛出异常。

### 10.2.5 访问权限
在类的内部可以定义属性和方法，而在类的外部则可以直接调用属性或方法来操作数据，从而隐藏了类内部的复杂逻辑。但是，在Python中并没有对属性和方法的访问权限进行限制。为了保证类内部的某些属性或方法不被外部访问，可以在属性或方法名前面添加双下划线(__foo)或首尾都加双下划线(__foo__)，从而限制访问权限。其中，双下划线、首尾双下划线的作用如下。
1. __foo__：首尾双下划线表示定义特殊方法，一般是系统定义名字，如__init__()。
2. __foo：双下划线表示private(私有)类型的成员，只允许定义该方法的类本身对其进行访问，而不允许通过类的实例对其进行访问，但是可以通过“类的实例名.类名__xxx”方式访问它们。





























